<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigateur CVE 2025</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>üîí Navigateur CVE 2025</h1>
            <p class="subtitle">Parcourir les Common Vulnerabilities and Exposures de l'ann√©e 2025</p>
        </div>
    </header>

    <div class="main-wrapper">
        <!-- Sidebar des filtres pr√©d√©finis -->
        <aside class="sidebar" id="predefinedFiltersSidebar">
            <div class="sidebar-header">
                <h2>Filtres pr√©d√©finis</h2>
                <button class="btn-add-filter" id="addFilterBtn" title="Ajouter un filtre">+</button>
            </div>
            <div class="predefined-filters-list" id="predefinedFiltersList">
                <!-- Les filtres seront g√©n√©r√©s dynamiquement -->
            </div>
        </aside>

        <!-- Contenu principal -->
        <main class="container main-content">
        <!-- Barre de recherche et filtres -->
        <section class="search-section">
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Rechercher par ID CVE ou titre..." autocomplete="off">
                <button id="searchBtn" aria-label="Rechercher">üîç</button>
            </div>

            <!-- Zone des filtres actifs -->
            <div id="activeFilters" class="active-filters" style="display: none;">
                <div class="active-filters-header">
                    <span class="active-filters-label">Filtres actifs:</span>
                    <label class="search-mode-toggle" id="searchModeToggle" style="display: none;">
                        <input type="checkbox" id="searchModeCheckbox">
                        <span class="search-mode-label">Mode OU (sinon ET)</span>
                    </label>
                </div>
                <div class="filter-badges" id="filterBadges">
                    <!-- Les badges seront g√©n√©r√©s dynamiquement -->
                </div>
            </div>

            <div class="filters">
                <div class="filter-group">
                    <label for="severityFilter">S√©v√©rit√©:</label>
                    <select id="severityFilter">
                        <option value="">Toutes</option>
                        <option value="CRITICAL">Critique</option>
                        <option value="HIGH">√âlev√©e</option>
                        <option value="MEDIUM">Moyenne</option>
                        <option value="LOW">Faible</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="stateFilter">√âtat:</label>
                    <select id="stateFilter">
                        <option value="">Tous</option>
                        <option value="PUBLISHED">Publi√©</option>
                        <option value="RESERVED">R√©serv√©</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="cvssMinFilter">CVSS Min:</label>
                    <input type="number" id="cvssMinFilter" min="0" max="10" step="0.1" placeholder="0.0">
                </div>

                <div class="filter-group">
                    <label for="cvssMaxFilter">CVSS Max:</label>
                    <input type="number" id="cvssMaxFilter" min="0" max="10" step="0.1" placeholder="10.0">
                </div>

                <div class="filter-group">
                    <label for="sortBy">Trier par:</label>
                    <select id="sortBy">
                        <option value="dateDesc">Date (r√©cent)</option>
                        <option value="dateAsc">Date (ancien)</option>
                        <option value="cvssDesc">CVSS (haut)</option>
                        <option value="cvssAsc">CVSS (bas)</option>
                        <option value="idAsc">ID (croissant)</option>
                        <option value="idDesc">ID (d√©croissant)</option>
                    </select>
                </div>

                <button id="clearFilters" class="btn-secondary">Effacer les filtres</button>
            </div>
        </section>

        <!-- Statistiques -->
        <section class="stats">
            <div class="stat-item">
                <span class="stat-label">Total CVE:</span>
                <span class="stat-value" id="totalCVE">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Affich√©s:</span>
                <span class="stat-value" id="displayedCVE">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Chargement:</span>
                <span class="stat-value" id="loadingStatus">En attente...</span>
            </div>
            <div class="stat-item">
                <button id="refreshBtn" class="btn-refresh" title="Forcer le rechargement complet depuis les fichiers">üîÑ Actualiser</button>
            </div>
        </section>

        <!-- Liste des CVE -->
        <section class="cve-list-section">
            <div id="cveList" class="cve-list">
                <div class="loading-message">Chargement des CVE...</div>
            </div>

            <!-- Pagination -->
            <div class="pagination" id="pagination">
                <!-- G√©n√©r√©e dynamiquement -->
            </div>
        </section>
        </main>
    </div>

    <!-- Modal de d√©tails CVE -->
    <div id="cveModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <div id="cveDetails">
                <!-- Contenu g√©n√©r√© dynamiquement -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/db.js"></script>
    <script src="js/cveLoader.js"></script>
    <script src="js/cveRenderer.js"></script>
    <script src="js/predefinedFilters.js"></script>
    <script src="js/app.js"></script>
</body>
</html>

